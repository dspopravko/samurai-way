{"version":3,"file":"static/js/433.e84ea421.chunk.js","mappings":"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","sources":["webpack://samurai-way/./src/components/MessageForm/MessageForm.module.css?2a5f","components/MessageForm/MessageForm.tsx","hook/withAuthRedirect.tsx","webpack://samurai-way/./src/pages/messages/Dialogs.module.css?490e","webpack://samurai-way/./src/features/Dialogs/Chats/Chats.module.css?a006","features/Dialogs/Chats/Chats.tsx","webpack://samurai-way/./src/features/Dialogs/Messages/Messages.module.css?106d","webpack://samurai-way/./src/features/Dialogs/Messages/Message/Message.module.css?7abc","features/Dialogs/Messages/Message/Message.tsx","features/Dialogs/Messages/Messages.tsx","webpack://samurai-way/./src/features/Dialogs/Dialog/Dialog.module.css?5c81","features/Dialogs/Dialog/Dialog.tsx","pages/messages/DialogsContainer.tsx","pages/messages/Dialogs.tsx","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"MessageForm_form__HG9on\"};","import {Form, Formik} from \"formik\";\nimport React from \"react\";\nimport s from \"./MessageForm.module.css\"\n\nexport interface FormDataType {\n    messageText: string\n}\n\ninterface SendMessageFormInterface {\n    initialValue?: string\n    placeholder?: string\n    onSubmit: (data: FormDataType) => void\n}\n\nexport const SendMessageForm = (props: SendMessageFormInterface) => {\n    return (\n        <Formik\n            initialValues={{\n                messageText: props.initialValue || ''\n            }}\n            onSubmit={( values: FormDataType, {resetForm} ) => {\n                props.onSubmit(values)\n                resetForm()\n            }}\n        >\n            <Form className={s.form}>\n                <textarea id=\"messageText\" name=\"messageText\" placeholder={props.placeholder} />\n                <button type=\"submit\">Send</button>\n            </Form>\n        </Formik>\n    )\n}","import React, {ComponentType} from 'react';\nimport {Redirect} from 'react-router-dom';\nimport {ReduxStateType} from \"../redux/redux-store\";\nimport {connect} from \"react-redux\";\n\ninterface WithAuthProps { isAuth: boolean }\n\nconst mapStateToPropsAuth = ({authReducer}: ReduxStateType): WithAuthProps => {\n    return { isAuth: authReducer.isAuth }\n}\n\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\n    function RedirectComponent(props: WithAuthProps) {\n        let {isAuth, ...restProps} = props\n        if (!isAuth) return <Redirect to=\"/login\"/>\n        return <Component {...restProps as T} />\n    }\n\n    return connect(mapStateToPropsAuth)(RedirectComponent)\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"dialogsWrapper\":\"Dialogs_dialogsWrapper__pnlug\",\"chats\":\"Dialogs_chats__mWkkn\",\"messagesPage\":\"Dialogs_messagesPage__AMile\",\"message\":\"Dialogs_message__dJ0Wz\",\"active\":\"Dialogs_active__RniKJ\"};","// extracted by mini-css-extract-plugin\nexport default {\"message\":\"Chats_message__M5-GC\",\"messageActive\":\"Chats_messageActive__z79Ft\",\"chat\":\"Chats_chat__tjNP4\",\"date\":\"Chats_date__3C4vP\",\"logo\":\"Chats_logo__89GSZ\"};","import React from \"react\";\nimport s from \"./Chats.module.css\"\nimport {NavLink, useLocation} from \"react-router-dom\";\nimport {ChatHeaderType} from \"../../../redux/chats-reducer\";\n\nexport type ChatsPropsType = {\n    chatHeader: ChatHeaderType\n}\n\nexport default function Chats( {chatHeader} : ChatsPropsType ) {\n    let path = \"/messages/\" + chatHeader.id\n    const isActive = path === useLocation().pathname? s.messageActive : s.message\n    return (\n        <NavLink to={path}>\n            <div className={isActive}>\n                <div className={s.logo}>\n                    <img alt={`Chat logo ${chatHeader.author}`} src={chatHeader.chatLogo}/>\n                </div>\n                <div className={s.chat}>\n                    <pre>{chatHeader.author.slice(0,8) + \"..\"}</pre>\n                    <div className={s.date}>\n                        {chatHeader.date}\n                    </div>\n                </div>\n            </div>\n        </NavLink>\n    )\n}","// extracted by mini-css-extract-plugin\nexport default {\"message\":\"Messages_message__fmc6x\"};","// extracted by mini-css-extract-plugin\nexport default {\"message_container\":\"Message_message_container__-nBH2\",\"myMessage_container\":\"Message_myMessage_container__6XpyB\",\"message\":\"Message_message__7RF6j\",\"myMessage\":\"Message_myMessage__BLnmx\",\"avatar_container\":\"Message_avatar_container__kkPAG\",\"time_container\":\"Message_time_container__dNLJ0\",\"text\":\"Message_text__Av5Ru\",\"time\":\"Message_time__OM3oc\",\"name\":\"Message_name__FCq6s\",\"svgWrapper\":\"Message_svgWrapper__JkEuA\",\"mySvgWrapper\":\"Message_mySvgWrapper__84C2f\"};","import React from \"react\";\nimport s from \"./Message.module.css\"\nimport logo from \"../../../../assets/img/defaultUser.png\";\n\nexport type MessagePropsType = {\n    id: number\n    authorId: number\n    avatar: string | null\n    name: string\n    message: string\n    date: string\n}\n\nexport const Message = ({\n                            authorId,\n                            avatar = \"https://180dc.org/wp-content/uploads/2022/04/Blank-Avatar.png\",\n                            name,\n                            message,\n                            date,\n                        }:\n                            MessagePropsType\n) => {\n    return <>\n        <div className={authorId === 0 ? s.myMessage : s.message}>\n            <div className={s.avatar_container}>\n                <img alt=\"avatar\" src={avatar || logo}/>\n            </div>\n            <div className={authorId === 0 ? s.mySvgWrapper : s.svgWrapper}>\n                <svg viewBox=\"0 0 100 100\">\n                    <path\n                        d=\"M100,0v100H18.2c0.3-1.2,3.6-1.8,13.6-5.2c14.8-5,28.1-13.3,38.9-24.1C88.8,52.6,100,27.6,100,0z\"/>\n                </svg>\n            </div>\n            <div className={authorId === 0 ? s.myMessage_container : s.message_container}>\n                <div className={s.name}>\n                    {name}\n                </div>\n                <div className={s.body_container}>\n                    <div className={s.text_wrapper}>\n                        <p className={s.text}>{message}</p>\n                    </div>\n                    <div className={s.time_container}>\n                        <div className={s.time}>{date}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </>\n}","import React from \"react\";\nimport s from \"./Messages.module.css\"\nimport {Message} from \"./Message/Message\";\nimport {ChatType} from \"../../../redux/chats-reducer\";\n\n\nexport default function Messages(props: ChatType) {\n\n    return <div className={s.message}>\n        {props.chatMessages.map((m, index) => {\n            return <Message key={index}\n                id={m.id}\n                authorId={m.authorId}\n                avatar={m.avatar}\n                name={m.name}\n                message={m.body}\n                date={m.date}\n            />\n        })}\n    </div>\n}","// extracted by mini-css-extract-plugin\nexport default {\"chatWrapper\":\"Dialog_chatWrapper__ggWvv\",\"inputWrapper\":\"Dialog_inputWrapper__oqR75\"};","import React from \"react\";\nimport Messages from \"../Messages/Messages\";\nimport s from \"./Dialog.module.css\";\nimport {ChatType} from \"../../../redux/chats-reducer\";\nimport {FormDataType, SendMessageForm} from \"../../../components/MessageForm/MessageForm\";\n\ntype DialogType = {\n    chat: ChatType\n    sendMessageHandler: (index: number, message: string) => void\n}\n\nexport const Dialog = ({chat, sendMessageHandler}: DialogType) => {\n    const onSubmitMessageForm = (form: FormDataType) => {\n        sendMessageHandler(chat.chatHeader.id, form.messageText)\n    }\n\n    return (\n        <>\n            <div className={s.chatWrapper}>\n                <Messages key={chat.chatHeader.id}\n                          chatMessages={chat.chatMessages}\n                          chatHeader={chat.chatHeader}\n                          chatNewMessage={chat.chatNewMessage}\n                />\n            </div>\n            <SendMessageForm\n                placeholder={'Write a message...'}\n                onSubmit={onSubmitMessageForm}\n            />\n        </>\n    )\n}","import React from \"react\";\nimport {ReduxStateType} from \"../../redux/redux-store\";\nimport {ChatType, sendMessageAC, updateNewMessageAC} from \"../../redux/chats-reducer\";\nimport {Dialogs} from \"./Dialogs\";\nimport {connect} from \"react-redux\";\nimport {Dispatch} from \"redux\";\nimport {ProfileType} from \"../../redux/profile-reducer\";\nimport {withAuthRedirect} from \"../../hook/withAuthRedirect\";\n\ntype MapStateToPropsType = {\n    chats: ChatType[]\n    profile: ProfileType\n    isAuth: boolean\n}\ntype MapDispatchToPropsType = {\n    inputHandler: (input: string, chatId: number) => void\n    sendMessageCallback: (index: number, avatar: string | null, name: string, messageText: string) => void\n}\nexport type DialogsPropsType = MapStateToPropsType & MapDispatchToPropsType\n\nconst mapStateToProps = (state: ReduxStateType): MapStateToPropsType => ({\n    chats: state.chatsReducer,\n    profile: state.profileReducer.profile,\n    isAuth: state.authReducer.isAuth\n})\nconst mapDispatchToProps = (dispatch: Dispatch): MapDispatchToPropsType => {\n    return {\n        inputHandler: (input: string, chatId: number) => dispatch(updateNewMessageAC(input, chatId)),\n        sendMessageCallback: (index: number, avatar: string | null, name: string, messageText: string) => dispatch(sendMessageAC(index, avatar, name, messageText))\n    }\n}\n\nconst AuthRedirectComponent = withAuthRedirect(Dialogs)\nexport default connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent);","import React from \"react\";\nimport s from \"./Dialogs.module.css\"\nimport Chats from \"../../features/Dialogs/Chats/Chats\";\nimport {Route} from \"react-router-dom\";\nimport {Dialog} from \"../../features/Dialogs/Dialog/Dialog\";\nimport {DialogsPropsType} from \"./DialogsContainer\";\n\nexport const Dialogs = ({chats, sendMessageCallback, profile}: DialogsPropsType) => {\n    const sendMessageHandler = (index: number, messageText: string) => {\n        const photo = profile.photos.small ? profile.photos.small : null\n        sendMessageCallback(index, photo, profile.fullName, messageText)\n    }\n\n    const chatHeaderItems = chats.map((chat, index) => <Chats key={index} chatHeader={chat.chatHeader}/>)\n\n    const chatItems = chats.map((chat, index) => {\n        return <Route key={index}\n                      path={`/messages/${index}`}\n                      render={() => (\n                          <Dialog\n                              chat={chat}\n                              sendMessageHandler={sendMessageHandler}\n                          />)\n                      }/>\n    })\n\n    return (\n        <div className={s.dialogsWrapper}>\n            <div className={s.chats}>\n                {chatHeaderItems}\n            </div>\n            <div className={s.messagesPage}>\n                <div className={s.message}>\n                    {chatItems}\n                </div>\n            </div>\n        </div>\n    )\n}\n\n\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}"],"names":["SendMessageForm","props","initialValues","messageText","initialValue","onSubmit","values","resetForm","className","s","id","name","placeholder","type","mapStateToPropsAuth","isAuth","authReducer","withAuthRedirect","Component","connect","restProps","to","Chats","chatHeader","path","isActive","useLocation","pathname","alt","author","src","chatLogo","slice","date","Message","authorId","avatar","message","logo","viewBox","d","Messages","chatMessages","map","m","index","body","Dialog","chat","sendMessageHandler","chatNewMessage","form","AuthRedirectComponent","chats","sendMessageCallback","profile","photo","photos","small","fullName","chatHeaderItems","chatItems","render","state","chatsReducer","profileReducer","dispatch","inputHandler","input","chatId","updateNewMessageAC","sendMessageAC","_objectWithoutProperties","source","excluded","key","i","target","Object","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","prototype","propertyIsEnumerable","call"],"sourceRoot":""}